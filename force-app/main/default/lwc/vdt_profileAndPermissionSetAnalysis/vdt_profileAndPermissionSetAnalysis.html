<template>
    <lightning-layout multiple-rows>
        <lightning-layout-item size="12">
            <lightning-layout horizontal-align="spread">
                <lightning-layout-item size="10">
                    <c-vdt_profile-and-permission-set-filter onshowinfo={handleShowInfo} disabled={_filterDisabled}></c-vdt_profile-and-permission-set-filter>
                </lightning-layout-item>
                <template if:true={_showCalculationButton}>
                    <lightning-layout-item>
                        <c-vdt_calculation-button
                            last-calculation-date={_calculation.calculationDate}
                            calculation-status={_calculation.status}
                            oncalculate={handleCalculate}
                        ></c-vdt_calculation-button>
                    </lightning-layout-item>
                </template>
            </lightning-layout>
        </lightning-layout-item>
        <template if:true={_showCalculationSection}>
            <template if:true={_showEmpty}>
                <lightning-layout-item size="12">
                    <c-vdt_illustration-provider
                        svgname="lakeMountain"
                        message={_emptyMessage}
                    ></c-vdt_illustration-provider>
                </lightning-layout-item>
            </template>
            <template if:true={_showCalculation}>
                <lightning-layout-item size="12" class="results">
                    <c-vdt_profile-and-permission-set-results 
                        selected-objects={_filter.objectNames}
                        fls-data={_calculation.detailData} 
                        sobject-data={_calculation.data}>
                    </c-vdt_profile-and-permission-set-results>
                </lightning-layout-item>
            </template>
        </template>
    </lightning-layout>
</template>